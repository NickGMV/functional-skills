<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Resource Navigator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

      
    
    </head>

    <body>

        

        <input type="file" id="uploadfile" onChange="readImage(this)">
        
        <script>
        readFromSite("assets/csv test js.csv")

        var obj_csv = {
            size:0,
            dataFile:[]
        };
         
        function readImage(input) {
            console.log(input)
         if (input.files && input.files[0]) {
         let reader = new FileReader();
                reader.readAsBinaryString(input.files[0]);
         reader.onload = function (e) {
         console.log(e);
         obj_csv.size = e.total;
         obj_csv.dataFile = e.target.result
                    console.log(obj_csv.dataFile)
                    parseData(obj_csv.dataFile)
                    
         }
         }
        }
         
        function parseData(data){
            let csvData = [];
            let lbreak = data.split("\n");
            lbreak.forEach(res => {
                csvData.push(res.split(","));
            });
            console.table(csvData);
            createTable(csvData);
        }





        /////////////////////////// creating a function to read pre built csvs /////////////////////////////////////

        function readFromSite(pathName){
            fetch(pathName,{credentials: 'same-origin'})
            .then(response=> console.log(`found ${pathname}`))
            .then(data=>{
                obj_csv.size = e.total;
         obj_csv.dataFile = e.target.result
                    console.log(obj_csv.dataFile)
                    parseData(obj_csv.dataFile)

            })}






function createTable(tableData) {
  var table = document.createElement('table');
  var tableBody = document.createElement('tbody');

  tableData.forEach(function(rowData) {
    var row = document.createElement('tr');

    rowData.forEach(function(cellData) {
      var cell = document.createElement('td');
      cell.appendChild(document.createTextNode(cellData));
      row.appendChild(cell);
    });

    tableBody.appendChild(row);
  });

  table.appendChild(tableBody);
  document.body.appendChild(table);
}

        </script>
      </body>

    
    